import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zCiMgLSotIGNvZGluZzogdXRmLTggLSotCgppbXBvcnQgcmVxdWVzdHMsYnM0LGpzb24sb3Msc3lzLHJhbmRvbSxkYXRldGltZSx0aW1lLHJlCnRyeToKCWltcG9ydCByaWNoCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCW9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmljaCcpCgl0aW1lLnNsZWVwKDEpCgl0cnk6CgkJaW1wb3J0IHJpY2gKCWV4Y2VwdCBJbXBvcnRFcnJvcjoKCQlleGl0KCdUaWRhayBEYXBhdCBNZW5naW5zdGFsbCBNb2R1bGUgcmljaCwgQ29iYSBJbnN0YWxsIE1hbnVhbCAocGlwIGluc3RhbGwgcmljaCknKQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlIGFzIHNvbApmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBHcm91cCBhcyBncApmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsIGFzIG5lbApmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIGNldGFrCmZyb20gcmljaC5tYXJrZG93biBpbXBvcnQgTWFya2Rvd24gYXMgbWFyawpmcm9tIHJpY2guY29sdW1ucyBpbXBvcnQgQ29sdW1ucyBhcyBjb2wKIyBVQSBMSVNUCnRyeTp1Z2VuID0gb3BlbigndXNlci50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQpleGNlcHQ6dWdlbiA9IFsnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDIuMy40OyBwdC1wdDsgU29ueUVyaWNzc29uTFQxOGEgQnVpbGQvNC4wLjEuQS4wLjI2NikgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzMy4xJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMi4xOyBydS1ydTsgOTkzMGkgQnVpbGQvSk9QNDBEKSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCcsJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAyLjMuNDsgcnUtcnU7IE1JRCBCdWlsZC9HUkoyMikgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzMy4xJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMzsgZW4tdXM7IEFTVVNfVDAwSiBCdWlsZC9KU1MxNVEpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuMi4yOyBydS1ydTsgRmx5IElRNDQwNCBCdWlsZC9KRFEzOSkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAgWWFuZGV4U2VhcmNoLzcuMTYnXQp0cnk6dWdlbjIgPSBvcGVuKCd1c2VyMi50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQpleGNlcHQ6dWdlbjIgPSBbJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAyLjMuNDsgcHQtcHQ7IFNvbnlFcmljc3NvbkxUMThhIEJ1aWxkLzQuMC4xLkEuMC4yNjYpIEFwcGxlV2ViS2l0LzUzMy4xIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzMuMScsJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjIuMTsgcnUtcnU7IDk5MzBpIEJ1aWxkL0pPUDQwRCkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMi4zLjQ7IHJ1LXJ1OyBNSUQgQnVpbGQvR1JKMjIpIEFwcGxlV2ViS2l0LzUzMy4xIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzMuMScsJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjM7IGVuLXVzOyBBU1VTX1QwMEogQnVpbGQvSlNTMTVRKSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCcsJ01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjIuMjsgcnUtcnU7IEZseSBJUTQ0MDQgQnVpbGQvSkRRMzkpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwIFlhbmRleFNlYXJjaC83LjE2J10KCiMgSU5ESUNBVElPTgppZCxpZDIsbG9vcCxvayxjcCxha3VuLG9wcmVrLG1ldGhvZCxsaXNlbnNpa3UsdGFwbGlrYXNpLHRva2Vua3UsdWlkLGxpc2Vuc2lrdW5pPSBbXSxbXSwwLDAsMCxbXSxbXSxbXSxbXSxbXSxbXSxbXSxbXQoKIyBDT0xPUlMKeCA9ICdcMzNbbScgIyBERUZBVUxUCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsKaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsKaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQp1ID0gJ1wwMzNbOTVtJyAjIFVOR1UKa2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtCnAgPSAnXHgxYlswOzM0bScgIyBCSVJVICsKIyBDb252ZXJ0ZXIgQnVsYW4KZGljID0geycxJzonSmFudWFyaScsJzInOidGZWJydWFyaScsJzMnOidNYXJldCcsJzQnOidBcHJpbCcsJzUnOidNZWknLCc2JzonSnVuaScsJzcnOidKdWxpJywnOCc6J0FndXN0dXMnLCc5JzonU2VwdGVtYmVyJywnMTAnOidPa3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVzZW1iZXInfQpkaWMyID0geycwMSc6J0phbnVhcmknLCcwMic6J0ZlYnJ1YXJpJywnMDMnOidNYXJldCcsJzA0JzonQXByaWwnLCcwNSc6J01laScsJzA2JzonSnVuaScsJzA3JzonSnVsaScsJzA4JzonQWd1c3R1cycsJzA5JzonU2VwdGVtYmVyJywnMTAnOidPa3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVzZW1iZXInfQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkKYmxuID0gZGljWyhzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkubW9udGgpKV0KdGhuID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkueWVhcgpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwpjcGMgPSAnQ1AtJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwojIENMRUFSCmRlZiBjbGVhcigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCiMgQkFDSwpkZWYgYmFjaygpOgoJbG9naW4oKQpkZWYgY2hrKCk6IAogIHV1aWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKSAKICBpZCA9ICJ8Ii5qb2luKHV1aWQpIAogIHByaW50KCJcblxuXHgxYlszNzsxbSAgWU9VUiBJRCA6ICIraWQpIAogIHRyeTogCiAgICBodHRwQ2FodCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RpbVRlZC9TcGVlZC9tYWluL1RpbS50eHQiKS50ZXh0IAogICAgaWYgaWQgaW4gaHR0cENhaHQ6IAogICAgICBwcmludCgiXDAzM1s5Mm0gIFdFTENPTUUgUEFJRCBVU0VSIEVOSk9Z8J+Sg/CfkoMuIC4uLi4uLi5cMDMzWzk3bSIpIAogICAgICBtc2cgPSBzdHIob3MuZ2V0ZXVpZCgpKSAKICAgICAgdGltZS5zbGVlcCgxKSAKICAgICAgcGFzcyAKICAgIGVsc2U6IAogICAgICBwcmludCgiXHgxYls5MW0gWU9VUiBJRCBJUyBOT1QgQUNUSVZF8J+YoSBTRU5EIE1FU1NBR0UgT04gV0hBVFNBUFBcMDMzWzk3bSIpIAogICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzIzNDcwMzQ0NTcxMTcnKQogICAgICB0aW1lLnNsZWVwKDEpIAogICAgICBzeXMuZXhpdCgpIAogIGV4Y2VwdDogCiAgICBzeXMuZXhpdCgpIAogICAgaWYgbmFtZSA9PSAnX19tYWluX18nOiAKICAgICBwcmludCAobG9nbykKICAgICBjaGsoKSAKICAgIApjaGsoKQpvcy5zeXN0ZW0oJ2NsZWFyJykKIyBCQU5ORVIKZGVmIGJhbm5lcigpOgoJY2xlYXIoKQoJd2VsID0gJyMgV0VMQ09NRSBUTyBUaW1UZWQgIFdSTEQgMjAyMicKCXdlbDIgPSBtYXJrKHdlbCwgc3R5bGU9J3llbGxvdycpCglzb2woKS5wcmludCh3ZWwyKQoJYXU9J0FVVEhPUiAgICA6ICBUaW1UZWRcbkdJVEhVQiAgICA6ICBodHRwczovL2dpdGh1Yi5jb20vVGltVGVkXG5XSEFUU0FQUCAgOiAgKzIzNDcwMzQ0NTcxMTcnCglwZW5nZW1iYW5nMT1uZWwoYXUsc3R5bGU9InllbGxvdyIpCgljZXRhayhuZWwocGVuZ2VtYmFuZzEsIHRpdGxlPSdJTkZPUk1BVElPTiBDQVJSSUVSJykpCgojIFZBTElEQVNJIFRPS0VOCmRlZiBsb2dpbigpOgoJCXRyeToKCQkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQoJCQl0b2tlbmt1LmFwcGVuZCh0b2tlbikKCQkJdHJ5OgoJCQkJc3kgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0pCgkJCQlzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10KCQkJCXN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10KCQkJCXN5NCA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2JpcnRoZGF5J10KCQkJCW1lbnUoc3kyLHN5MyxzeTQpCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCWxvZ2luX2xhZ2koKQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCQliYW5uZXIoKQoJCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCQlsbyA9IG1hcmsobGksIHN0eWxlPSd5ZWxsb3cnKQoJCQkJc29sKCkucHJpbnQobG8sIHN0eWxlPSd5ZWxsb3cnKQoJCQkJZXhpdCgpCgkJZXhjZXB0IElPRXJyb3I6CgkJCWxvZ2luX2xhZ2koKQoKIyBMT0dJTgpkZWYgbG9naW5fbGFnaSgpOgoJYmFubmVyKCkKCXNreSA9ICcjIExPR0lOIFdJVEggS0lXSSBUT0tFTicKCXNreTIgPSBtYXJrKHNreSwgc3R5bGU9J2dyZWVuJykKCXNvbCgpLnByaW50KHNreTIsIHN0eWxlPSd5ZWxsb3cnKQoJcGFuZGEgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFRva2VuIDogJykKCWFrdW49b3BlbignLnRva2VuLnR4dCcsJ3cnKS53cml0ZShwYW5kYSkKCXRyeToKCQl0ZXMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3BhbmRhKQoJCXRlczMgPSBqc29uLmxvYWRzKHRlcy50ZXh0KVsnaWQnXQoJCXN1ZSA9ICcjIExvZ2luIFN1a3NlcywgVHVuZ2d1IFNlYmVudGFyIScKCQlzdXUgPSBtYXJrKHN1ZSwgc3R5bGU9J2dyZWVuJykKCQlzb2woKS5wcmludChzdXUsIHN0eWxlPSd5ZWxsb3cnKQoJCXRpbWUuc2xlZXAoMi41KQoJCWxvZ2luKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlzdWUgPSAnIyBMb2dpbiBHYWdhbCwgUGVyaWtzYSBUb2tlbiBBbmRhIScKCQlzdXUgPSBtYXJrKHN1ZSwgc3R5bGU9J3JlZCcpCgkJc29sKCkucHJpbnQoc3V1LCBzdHlsZT0nYmx1ZScpCgkJdGltZS5zbGVlcCgyLjUpCgkJbG9naW5fbGFnaSgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJbG8gPSBtYXJrKGxpLCBzdHlsZT0neWVsbG93JykKCQlzb2woKS5wcmludChsbywgc3R5bGU9J3llbGxvdycpCgkJZXhpdCgpCgkJCiMgTUVOVQpkZWYgbWVudShteV9uYW1lLG15X2lkLG15X2JpcnRoZGF5KToKCXRyeTpzaCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9odHRwYmluLm9yZy9pcCcpLmpzb24oKQoJZXhjZXB0OnNoID0geydvcmlnaW4nOictJ30KCXRyeToKCQl0Z2x4ID0gbXlfYmlydGhkYXkuc3BsaXQoJy8nKVsxXQoJCWJsbnggPSBkaWMyW3N0cihteV9iaXJ0aGRheS5zcGxpdCgnLycpWzBdKV0KCQl0aG54ID0gbXlfYmlydGhkYXkuc3BsaXQoJy8nKVsyXQoJCWJpcnRoID0gdGdseCsnICcrYmxueCsnICcrdGhueAoJZXhjZXB0OmJpcnRoID0gJy0nCgliYW5uZXIoKQoJc2cgPSAnIyBKRVdFTFRFQ0ggTUVOVSBUT09MUycKCWZ4ID0gbWFyayhzZywgc3R5bGU9J3llbGxvdycpCglzb2woKS5wcmludChmeCkKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBBY3RpdmUgVXNlciA6ICcrc3RyKG15X25hbWUpKQoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIFVzZXIgSWQgICAgIDogJytzdHIobXlfaWQpKQoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIFVzZXIgVHRsICAgIDogJytzdHIoYmlydGgpKQoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIElwIEFkZHJlc3MgIDogJytzdHIoc2hbJ29yaWdpbiddKSkKCWlvID0gJ1swMV0gQ3JhY2sgRGFyaSBQZXJ0ZW1hbmFuIFB1Ymxpa1xuWzAyXSBDcmFjayBEYXJpIFBlcnRlbWFuYW4gUHVibGlrIChNYXNzYWwpXG5bMDNdIENlayBSZXN1bHQgQ3JhY2tcblswNF0gQ2VrIE9wc2kgQ2hlY2twb2ludFxuWzAwXSBMb2cgT3V0JwoJb2kgPSBuZWwoaW8sIHN0eWxlPSd5ZWxsb3cnKQoJY2V0YWsobmVsKG9pLCB0aXRsZT0nTUVOVScpKQoJamggPSBpbnB1dCh4KydbJytwKyc8PicreCsnXSBQaWxpaCA6ICcpCglpZiBqaCBpbiBbJzEnLCcwMSddOgoJCWR1bXBfcHVibGlrKCkKCWVsaWYgamggaW4gWycyJywnMDInXToKCQlkdW1wX21hc3NhbCgpCgllbGlmIGpoIGluIFsnMycsJzAzJ106CgkJcmVzdWx0KCkKCWVsaWYgamggaW4gWyc0JywnMDQnXToKCQlmaWxlKCkKCWVsaWYgamggaW4gWycwJywnMDAnXToKCQlvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0JykKCQlwcmludCh4KydbJytoKyfigKInK3grJ10gV2FpdCAuLi4nKQoJCXRpbWUuc2xlZXAoMSkKCQlzdyA9ICcjIEJFUkhBU0lMIExPRyBPVVQnCgkJc29sKCkucHJpbnQobWFyayhzdywgc3R5bGU9J2dyZWVuJykpCgkJZXhpdCgpCgllbHNlOgoJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkKCQlleGl0KCkKCiMgUkVTVUxUIENIRUNLRVIKZGVmIHJlc3VsdCgpOgoJY2VrID0gJyMgQ0hFQ0sgUkVTVUxUIENSQUNLJwoJc29sKCkucHJpbnQobWFyayhjZWssIHN0eWxlPSdncmVlbicpKQoJa2F5ZXMgPSAnWzAxXSBDZWsgSGFzaWwgQ3BcblswMl0gQ2VrIEhhc2lsIE9rXG5bMDBdIEtlbWJhbGkgS2UgTWVudScKCWtpcyA9IG5lbChrYXllcywgc3R5bGU9J2N5YW4nKQoJY2V0YWsobmVsKGtpcywgdGl0bGU9J1JFU1VMVFMnKSkKCWt6ID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBQaWxpaCA6ICcpCglpZiBreiBpbiBbJzEnLCcwMSddOgoJCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpCgkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgoJCQlnYWRhID0gJyMgRElSRUtUT1JJIFRJREFLIERJVEVNVUtBTicKCQkJc29sKCkucHJpbnQobWFyayhnYWRhLCBzdHlsZT0ncmVkJykpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCWhhaGEgPSAnIyBBTkRBIEJFTFVNIE1FTUlMSUtJIFJFU1VMVCBDUCcKCQkJc29sKCkucHJpbnQobWFyayhoYWhhLCBzdHlsZT0neWVsbG93JykpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJZWxzZToKCQkJZ2VyciA9ICcjIEhBU0lMIENQIEFOREEnCgkJCXNvbCgpLnByaW50KG1hcmsoZ2Vyciwgc3R5bGU9J2dyZWVuJykpCgkJCWNpaCA9IDAKCQkJbG9sID0ge30KCQkJZm9yIGlzaSBpbiB2aW46CgkJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQljaWgrPTEKCQkJCWlmIGNpaDwxMDoKCQkJCQlub20gPSAnMCcrc3RyKGNpaCkKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrbm9tKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQoJCQkJZWxzZToKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQoJCQlnZXJyMiA9ICcjIFBJTElIIFJFU1VMVCBVTlRVSyBESVRBTVBJTEtBTicKCQkJc29sKCkucHJpbnQobWFyayhnZXJyMiwgc3R5bGU9J2dyZWVuJykpCgkJCWdlZWggPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCQkJdHJ5OmdlaCA9IGxvbFtnZWVoXQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlyaWMgPSAnIyBQSUxJSEFOIFRJREFLIEFEQSBESSBNRU5VJwoJCQkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkKCQkJCWV4aXQoKQoJCQl0cnk6bGluID0gb3BlbignQ1AvJytnZWgsJ3InKS5yZWFkKCkKCQkJZXhjZXB0OgoJCQkJaGVoZSA9ICcjIEZJTEUgVElEQUsgRElURU1VS0FOLCBQRVJJS1NBICYgQ09CQSBMQUdJJwoJCQkJc29sKCkucHJpbnQobWFyayhoZWhlLCBzdHlsZT0ncmVkJykpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCQkJYWt1biA9ICcjIExJU1QgQUtVTiBDUCBBTkRBJwoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQoJCQlodXMgPSBvcy5zeXN0ZW0oJ2NkIENQICYmIGNhdCAnK2dlaCkKCQkJYWt1bjIgPSAnIyBMSVNUIEFLVU4gQ1AgQU5EQScKCQkJc29sKCkucHJpbnQobWFyayhha3VuLCBzdHlsZT0nZ3JlZW4nKSkKCQkJaW5wdXQoeCsnWycraCsn4oCiJyt4KyddIEtlbWJhbGknKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycyJywnMDInXToKCQl0cnk6dmluID0gb3MubGlzdGRpcignT0snKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJZ2FkYSA9ICcjIERJUkVLVE9SSSBUSURBSyBESVRFTVVLQU4nCgkJCXNvbCgpLnByaW50KG1hcmsoZ2FkYSwgc3R5bGU9J3JlZCcpKQoJCQl0aW1lLnNsZWVwKDIpCgkJCWJhY2soKQoJCWlmIGxlbih2aW4pPT0wOgoJCQloYWhhID0gJyMgQU5EQSBCRUxVTSBNRU1JTElLSSBSRVNVTFQgT0snCgkJCXNvbCgpLnByaW50KG1hcmsoaGFoYSwgc3R5bGU9J3llbGxvdycpKQoJCQl0aW1lLnNsZWVwKDIpCgkJCWJhY2soKQoJCWVsc2U6CgkJCWdlcnIgPSAnIyBIQVNJTCBPSyBBTkRBJwoJCQlzb2woKS5wcmludChtYXJrKGdlcnIsIHN0eWxlPSdncmVlbicpKQoJCQljaWggPSAwCgkJCWxvbCA9IHt9CgkJCWZvciBpc2kgaW4gdmluOgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ09LLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJY2loKz0xCgkJCQlpZiBjaWg8MTAwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJCQllbHNlOgoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJCWdlcnIyID0gJyMgUElMSUggUkVTVUxUIFVOVFVLIERJVEFNUElMS0FOJwoJCQlzb2woKS5wcmludChtYXJrKGdlcnIyLCBzdHlsZT0nZ3JlZW4nKSkKCQkJZ2VlaCA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gUGlsaWggOiAnKQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQoJCQkJZXhpdCgpCgkJCXRyeTpsaW4gPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWQoKQoJCQlleGNlcHQ6CgkJCQloZWhlID0gJyMgRklMRSBUSURBSyBESVRFTVVLQU4sIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdyZWQnKSkKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoJCQlha3VuID0gJyMgTElTVCBBS1VOIE9LIEFOREEnCgkJCXNvbCgpLnByaW50KG1hcmsoYWt1biwgc3R5bGU9J2dyZWVuJykpCgkJCWh1cyA9IG9zLnN5c3RlbSgnY2QgT0sgJiYgY2F0ICcrZ2VoKQoJCQlha3VuMiA9ICcjIExJU1QgQUtVTiBPSyBBTkRBJwoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQoJCQlpbnB1dCh4KydbJytoKyfigKInK3grJ10gS2VtYmFsaScpCgkJCWJhY2soKQoJZWxpZiBreiBpbiBbJzAnLCcwMCddOgoJCWJhY2soKQoJZWxzZToKCQlyaWMgPSAnIyBQSUxJSEFOIFRJREFLIEFEQSBESSBNRU5VJwoJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0ncmVkJykpCgkJZXhpdCgpCgojIE9QRU4KZGVmIGZpbGUoKToKCXRlayA9ICcjIENFSyBPUFNJIERBUkkgRklMRScKCXNvbCgpLnByaW50KG1hcmsodGVrLCBzdHlsZT0nY3lhbicpLCBzdHlsZT0nb24gcmVkJykKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBTZWRhbmcgTWVtYmFjYSBGaWxlLCBUdW5nZ3UgU2ViZW50YXIgLi4uJykKCXRpbWUuc2xlZXAoMikKCXRla3MgPSAnIyBQSUxJSCBGSUxFIFlHIEFLQU4gREkgQ0VLJwoJc29sKCkucHJpbnQobWFyayh0ZWtzLCBzdHlsZT0nZ3JlZW4nKSkKCW15X2ZpbGVzID0gW10KCXRyeToKCQlsaXMgPSBvcy5saXN0ZGlyKCdDUCcpCgkJZm9yIGt0IGluIGxpczoKCQkJbXlfZmlsZXMuYXBwZW5kKGt0KQoJZXhjZXB0OnBhc3MKCXRyeToKCQltZXIgPSBvcy5saXN0ZGlyKCdPSycpCgkJZm9yIHR5IGluIG1lcjoKCQkJbXlfZmlsZXMuYXBwZW5kKHR5KQoJZXhjZXB0OnBhc3MKCWlmIGxlbihteV9maWxlcyk9PTA6CgkJeXkgPSAnIyBBTkRBIEJFTFVNIE1FTUlMSUtJIFJFU1VMVCBVTlRVSyBESUNFSycKCQlzb2woKS5wcmludChtYXJrKHl5LCBzdHlsZT0neWVsbG93JykpCgkJZXhpdCgpCgllbHNlOgoJCWNpaCA9IDAKCQlsb2wgPSB7fQoJCWZvciBpc2kgaW4gbXlfZmlsZXM6CgkJCXRyeTpoZW0gPSBvcGVuKCdDUC8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCWV4Y2VwdDoKCQkJCXRyeTpoZW0gPSBvcGVuKCdPSy8nK2lzaSwncicpLnJlYWRsaW5lcygpCgkJCQlleGNlcHQ6Y29udGludWUKCQkJY2loKz0xCgkJCWlmIGNpaDwxMDoKCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkKCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJCWVsc2U6CgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpCgkJdGVrczIgPSAnIyBQSUxJSCBGSUxFIFlHIEFLQU4gREkgQ0VLJwoJCXNvbCgpLnByaW50KG1hcmsodGVrczIsIHN0eWxlPSdncmVlbicpKQoJCWdlZWggPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykKCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlyaWMgPSAnIyBQSUxJSEFOIFRJREFLIEFEQSBESSBNRU5VJwoJCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQoJCQlleGl0KCkKCQl0cnk6CgkJCWhmID0gb3BlbignQ1AvJytnZWgsJ3InKS5yZWFkbGluZXMoKQoJCQlmb3IgZnogaW4gaGY6CgkJCQlha3VuLmFwcGVuZChmei5yZXBsYWNlKCdcbicsJycpKQoJCQljZWtfb3BzaSgpCgkJZXhjZXB0IElPRXJyb3I6CgkJCXRyeToKCQkJCWhmID0gb3BlbignT0svJytnZWgsJ3InKS5yZWFkbGluZXMoKQoJCQkJZm9yIGZ6IGluIGhmOgoJCQkJCWFrdW4uYXBwZW5kKGZ6LnJlcGxhY2UoJ1xuJywnJykpCgkJCQljZWtfb3BzaSgpCgkJCWV4Y2VwdCBJT0Vycm9yOgoJCQkJaGVoZSA9ICcjIEZJTEUgVElEQUsgRElURU1VS0FOLCBQRVJJS1NBICYgQ09CQSBMQUdJJwoJCQkJc29sKCkucHJpbnQobWFyayhoZWhlLCBzdHlsZT0neWVsbG93JykpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCiMgRFVNUCBJRCBQVUJMSUsKZGVmIGR1bXBfcHVibGlrKCk6Cgl0cnk6CgkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgpCgl3aW4gPSAnIyBEVU1QIElEIFBVQkxJSycKCXdpbjIgPSBtYXJrKHdpbiwgc3R5bGU9J2dyZWVuJykKCXNvbCgpLnByaW50KHdpbjIpCglwcmludCh4KydbJytoKyfigKInK3grJ10gS2V0aWsgIm1lIiBKaWthIEluZ2luIER1bXAgSUQgRGFyaSBUZW1hbicpCglwaWwgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIE1hc3Vra2FuIElEIFRhcmdldCA6ICcpCgl0cnk6CgkJa29oMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjIuMC8nK3BpbCsnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0pLmpzb24oKQoJCWZvciBwaSBpbiBrb2gyWydmcmllbmRzJ11bJ2RhdGEnXToKCQkJdHJ5OmlkLmFwcGVuZChwaVsnaWQnXSsnfCcrcGlbJ25hbWUnXSkKCQkJZXhjZXB0OmNvbnRpbnVlCgkJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIFRvdGFsIDogJytzdHIobGVuKGlkKSkpCgkJc2V0dGluZygpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJbG8gPSBtYXJrKGxpLCBzdHlsZT0neWVsbG93JykKCQlzb2woKS5wcmludChsbywgc3R5bGU9J2N5YW4nKQoJCWV4aXQoKQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQl0ZWtzID0gJyMgUEVSVEVNQU5BTiBUSURBSyBQVUJMSUsgQVRBVSBUT0tFTiBSVVNBSycKCQl0ZWtzMiA9IG1hcmsodGVrcywgc3R5bGU9J3llbGxvdycpCgkJc29sKCkucHJpbnQodGVrczIpCgkJZXhpdCgpCgojIERVTVAgSUQgTUFTU0FMCmRlZiBkdW1wX21hc3NhbCgpOgoJd2luID0gJyMgRFVNUCBJRCBQVUJMSUsgTUFTU0FMJwoJd2luMiA9IG1hcmsod2luLCBzdHlsZT0nZ3JlZW4nKQoJc29sKCkucHJpbnQod2luMikKCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBNQVNVS0tBTiBKVU1MQUggSUQgKExJTUlUIDEwKScpCgl0cnk6CgkJanVtID0gaW50KGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gQkVSQVBBIElEIDogJykpCglleGNlcHQgVmFsdWVFcnJvcjoKCQlwZXNhbiA9ICcjIElOUFVUIFlBTkcgQU5EQSBNQVNVS0tBTiBCVUtBTiBBTkdLQScKCQlwZXNhbjIgPSBtYXJrKHBlc2FuLCBzdHlsZT0neWVsbG93JykKCQlzb2woKS5wcmludChwZXNhbjIpCgkJZXhpdCgpCglpZiBqdW08MSBvciBqdW0+MTA6CgkJcGVzYW4gPSAnIyBPVVQgT0YgUkFOR0UgTUVOJwoJCXBlc2FuMiA9IG1hcmsocGVzYW4sIHN0eWxlPSd5ZWxsb3cnKQoJCXNvbCgpLnByaW50KHBlc2FuMikKCQlleGl0KCkKCXNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkKCXl6ID0gMAoJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIEtldGlrICJtZSIgSmlrYSBJbmdpbiBEdW1wIElEIERhcmkgVGVtYW4nKQoJZm9yIG1ldCBpbiByYW5nZShqdW0pOgoJCXl6Kz0xCgkJa2wgPSBpbnB1dCh4KydbJytoK3N0cih5eikreCsnXSBNYXN1a2thbiBJRCBLZSAnK3N0cih5eikrJyA6ICcpCgkJdWlkLmFwcGVuZChrbCkKCWZvciB1c2VyciBpbiB1aWQ6CgkJdHJ5OgoJCQljb2wgPSBzZXMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92Mi4wLycrdXNlcnIrJz9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdKS5qc29uKCkKCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106CgkJCQl0cnk6CgkJCQkJaXNvID0gKG1pWydpZCddKyd8JyttaVsnbmFtZSddKQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzCgkJCQkJZWxzZTppZC5hcHBlbmQoaXNvKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQkJcGFzcwoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knCgkJCWxvID0gbWFyayhsaSwgc3R5bGU9J3llbGxvdycpCgkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpCgkJCWV4aXQoKQoJdG90ID0gJyMgQkVSSEFTSUwgTUVOR1VNUFVMS0FOICVzIElEJyUobGVuKGlkKSkKCWlmIGxlbihpZCk9PTA6CgkJdG90MiA9IG1hcmsodG90LCBzdHlsZT0neWVsbG93JykKCWVsc2U6CgkJdG90MiA9IG1hcmsodG90LCBzdHlsZT0nZ3JlZW4nKQoJc29sKCkucHJpbnQodG90MikKCXNldHRpbmcoKQoKIyBQRU5HQVRVUkFOIElECmRlZiBzZXR0aW5nKCk6Cgl3bCA9ICcjIFNFVFRJTkcgVVJVVEFOIElEJwoJc29sKCkucHJpbnQobWFyayh3bCwgc3R5bGU9J2dyZWVuJykpCgl0ZWtzID0gJ1swMV0gQ3JhY2sgRGFyaSBBa3VuIFRlcnR1YSAoTm90IFJlY29tbWVuZGVkKVxuWzAyXSBDcmFjayBEYXJpIEFrdW4gVGVybXVkYSAoUmVjb21tZW5kZWQpXG5bMDNdIEFjYWsgVXJ1dGFuIElEIChIaWdobHkgUmVjb21tZW5kZWQpJwoJdGFrID0gbmVsKHRla3MsIHN0eWxlPSdjeWFuJykKCWNldGFrKG5lbCh0YWssIHRpdGxlPSdTRVRUSU5HJykpCglodSA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gUGlsaWggOiAnKQoJaWYgaHUgaW4gWycxJywnMDEnXToKCQlmb3IgYmFjb3QgaW4gaWQ6CgkJCWlkMi5hcHBlbmQoYmFjb3QpCgllbGlmIGh1IGluIFsnMicsJzAyJ106CgkJZm9yIGJhY290IGluIGlkOgoJCQlpZDIuaW5zZXJ0KDAsYmFjb3QpCgllbGlmIGh1IGluIFsnMycsJzAzJ106CgkJZm9yIGJhY290IGluIGlkOgoJCQl4eCA9IHJhbmRvbS5yYW5kaW50KDAsbGVuKGlkMikpCgkJCWlkMi5pbnNlcnQoeHgsYmFjb3QpCgllbHNlOgoJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnCgkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSd5ZWxsb3cnKSkKCQlleGl0KCkKCW1ldCA9ICcjIFBJTElIIE1FVEhPRCBDUkFDSycKCXNvbCgpLnByaW50KG1hcmsobWV0LCBzdHlsZT0nZ3JlZW4nKSkKCWlveiA9ICdbMDFdIE1ldGhvZCBCLUFwaSAoRmFzdClcblswMl0gTWV0aG9kIE1vYmlsZSAoU2xvdylcblswM10gTWV0aG9kIEZyZWUgRmFjZWJvb2snCglnZXNzID0gbmVsKGlveiwgc3R5bGU9J2N5YW4nKQoJY2V0YWsobmVsKGdlc3MsIHRpdGxlPSdNRVRIT0QnKSkKCWhjID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBQaWxpaCA6ICcpCglpZiBoYyBpbiBbJzEnLCcwMSddOgoJCW1ldGhvZC5hcHBlbmQoJ2FwaScpCgllbGlmIGhjIGluIFsnMycsJzAzJ106CgkJbWV0aG9kLmFwcGVuZCgnZnJlZScpCgllbHNlOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCglndXcgPSAnIyBQSUxJSEFOIE9QU0kgQ1JBQ0sgJwoJc29sKCkucHJpbnQobWFyayhndXcsIHN0eWxlPSdncmVlbicpKQoJYXBsaWsgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFRhbXBpbGthbiBBcGxpa2FzaSBUZXJ0YXV0ID8gKHkvdCkgOiAnKQoJaWYgYXBsaWsgaW4gWyd5JywnWSddOgoJCXRhcGxpa2FzaS5hcHBlbmQoJ3lhJykKCWVsc2U6CgkJdGFwbGlrYXNpLmFwcGVuZCgnbm8nKQoJb3NrID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBUYW1waWxrYW4gT3BzaSBDaGVja3BvaW50PyBbIE5vdCBSZWNvbW1lbmRlZCBdICh5L3QpIDogJykKCWlmIG9zayBpbiBbJ3knLCdZJ106CgkJb3ByZWsuYXBwZW5kKCd5YScpCgllbHNlOgoJCW9wcmVrLmFwcGVuZCgnbm8nKQoJcGFzc3dyZCgpCgojIFdPUkRMSVNUCmRlZiBwYXNzd3JkKCk6CglsZXIgPSAnIyBQUk9TRVMgQ1JBQ0sgRElNVUxBSSwgVEVLQU4gQ1RSTCtaIFVOVFVLIEJFUkhFTlRJJwoJc29sKCkucHJpbnQobWFyayhsZXIsIHN0eWxlPSdncmVlbicpKQoJa3JlayA9ICdIYXNpbCBMaXZlICBEaXNpbXBhbiBLZSA6IE9LLyVzXG5IYXNpbCBDaGVjayBEaXNpbXBhbiBLZSA6IENQLyVzXG5IaWR1cGthbi9NYXRpa2FuIE1vZGUgUGVzYXdhdCBTZXRpYXAgNSBNZW5pdCclKG9rYyxjcGMpCgljZXRhayhuZWwoa3JlaywgdGl0bGU9J0NSQUNLJykpCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6CgkJZm9yIHl1em9uZyBpbiBpZDI6CgkJCWlkZixubWYgPSB5dXpvbmcuc3BsaXQoJ3wnKVswXSx5dXpvbmcuc3BsaXQoJ3wnKVsxXS5sb3dlcigpCgkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdCgkJCXB3diA9IFsnc2F5YW5nJywnc2F5YW5na3UnLCdzYXlhbmcxMjMnLCdiaXNtaWxsYWgnLCdhbmppbmcnLCdrYXRhc2FuZGknLCdzYW5kaTEyMyddCgkJCWlmIGxlbihubWYpPDY6CgkJCQlpZiBsZW4oZnJzKTwzOgoJCQkJCXBhc3MKCQkJCWVsc2U6CgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpCgkJCWVsc2U6CgkJCQlpZiBsZW4oZnJzKTwzOgoJCQkJCXB3di5hcHBlbmQobm1mKQoJCQkJZWxzZToKCQkJCQlwd3YuYXBwZW5kKG5tZikKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykKCQkJaWYgJ21vYmlsZScgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2ssaWRmLHB3dikKCQkJZWxpZiAnYXBpJyBpbiBtZXRob2Q6CgkJCQlwb29sLnN1Ym1pdChjcmFjazIsaWRmLHB3dikKCQkJZWxpZiAnZnJlZScgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2szLGlkZixwd3YpCgkJCWVsc2U6CgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQoJcHJpbnQoJycpCgl0YW55YSA9ICcjIElOR0lOIE1FTkdFQ0VLIE9QU0kgSEFTSUwgQ1JBQ0s/JwoJc29sKCkucHJpbnQobWFyayh0YW55YSwgc3R5bGU9J2dyZWVuJykpCgl3b2kgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIEluZ2luIE1lbmFtcGlsa2FuIE9wc2kgSGFzaWwgQ3JhY2s/ICh5L3QpIDogJykKCWlmIHdvaSBpbiBbJ3knLCdZJ106CgkJY2VrX29wc2koKQoJZWxzZToKCQlleGl0KCkKCiMgQ1JBQ0tFUgpkZWYgY3JhY2soaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCglwcmludCgnXHIlczwtPiAlcy8lcyA8LT4gT0s6JXMgPC0+IENQOiVzIDwtPiAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQl0aXggPSB0aW1lLnRpbWUoKQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjonbS5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJykudGV4dAoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwidWlkIjppZGYsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdywibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vdG9vbHMvZGVidWcvYWNjZXNzdG9rZW4vIn0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOnVhLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWlmICd5YScgaW4gb3ByZWs6CgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljZWtlcihpZGYscHcpCgkJCQllbHNlOgoJCQkJCXByaW50KCdcbicpCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEICAgICAgIDoge2lkZn0gW+KAol0gUEFTU1dPUkQgOiB7cHd9JwoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3llbGxvdycpCgkJCQkJY2V0YWsobmVsKHN0YXR1c2NwMSwgdGl0bGU9J0NQJykpCgkJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCQljcCs9MQoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWhlYWRhcHA9eyJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2In0KCQkJCWlmICdubycgaW4gdGFwbGlrYXNpOgoJCQkJCW9rKz0xCgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J09LJykpCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJyBpbiB0YXBsaWthc2k6CgkJCQkJb2srPTEKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQl1c2VyPWlkZgoJCQkJCWluZm9ha3VuID0gIiIKCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCQkJZ2V0X2lkID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHAiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQluYW1hID0gcmUuZmluZGFsbCgnXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+JyxzdHIoZ2V0X2lkKSlbMF0KCQkJCQlyZXNwb25zZSA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9aW5mbyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCXJlc3BvbnNlMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9ZnJpZW5kcyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCXJlc3BvbnNlMyA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS97dXNlcn0vYWxsYWN0aXZpdHkvP2NhdGVnb3J5X2tleT1hbGwmc2VjdGlvbl9pZD15ZWFyXzIwMjImdGltZXN0YXJ0PTE2MDk0ODgwMDAmdGltZWVuZD0xNjQxMDIzOTk5JnNlY3Rpb25Mb2FkaW5nSUQ9bV90aW1lbGluZV9sb2FkaW5nX2Rpdl8xNjQxMDIzOTk5XzE2MDk0ODgwMDBfOF8iLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQlyZXNwb25zZTQgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vbS5mYWNlYm9vay5jb20vdGltZWxpbmUvYXBwX2NvbGxlY3Rpb24vP2NvbGxlY3Rpb25fdG9rZW49e3VzZXJ9JTNBMTg0OTg1MDcxNTM4MDAyJTNBMzImX3JkYz0xJl9yZHIiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQl0cnk6bm9tZXIgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwidGVsXDpcKy4qP1wiPlw8c3BhblwgZGlyXD1cImx0clwiPiguKj8pPFwvc3Bhbj48XC9hPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6bm9tZXIgPSAiIgoJCQkJCXRyeTplbWFpbCA9IHJlLmZpbmRhbGwoJ1w8YSBocmVmXD1cImh0dHBzXDpcL1wvbG1cLmZhY2Vib29rXC5jb21cL2xcLnBocFw/dVw9bWFpbC4qP1wiIHRhcmdldFw9XCIuKj9cIlw+KC4qPyk8XC9hXD4nLHN0cihyZXNwb25zZSkpWzBdLnJlcGxhY2UoJyYjMDY0OycsJ0AnKQoJCQkJCWV4Y2VwdDplbWFpbD0iIgoJCQkJCXRyeTp0dGwgPSByZS5maW5kYWxsKCdcPFwvdGRcPlw8dGRcIHZhbGlnblw9XCJ0b3BcIiBjbGFzc1w9XCIuKj9cIlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oXGQrXHMrXHcrXHMrXGQrKTxcL2Rpdlw+XDxcL3RkXD5cPFwvdHJcPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6dHRsPSIiCgkJCQkJdHJ5OnRlbWFuID0gcmUuZmluZGFsbCgnXDxoM1wgY2xhc3NcPVwiLio/XCJcPlRlbWFuXCBcKCguKj8pXCk8XC9oM1w+JyxzdHIocmVzcG9uc2UyKSlbMF0KCQkJCQlleGNlcHQ6dGVtYW4gPSAiIgoJCQkJCXRyeTpwZW5naWt1dCA9IHJlLmZpbmRhbGwoJ1w8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pXDxcL3NwYW5cPicsc3RyKHJlc3BvbnNlNCkpWzFdCgkJCQkJZXhjZXB0OnBlbmdpa3V0ID0gIiIKCQkJCQl0cnk6CgkJCQkJCXRhaHVuID0gIiIKCQkJCQkJY2VrX3RobiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XCBjbGFzc1w9XCIuKj9cIiBpZFw9XCJ5ZWFyXyguKj8pXCI+JyxzdHIocmVzcG9uc2UzKSkKCQkJCQkJZm9yIG5lbmVuIGluIGNla190aG46CgkJCQkJCQl0YWh1biArPSBuZW5lbisiLCAiCgkJCQkJZXhjZXB0OnBhc3MKCgkJCQkJaW5mb2FrdW4gKz0gKGYiW+Kck10gTmFtYSBBa3VuICAgICAgIDoge25hbWF9XG5b4pyTXSBKdW1sYWggVGVtYW4gICAgOiB7dGVtYW59XG5b4pyTXSBKdW1sYWggUGVuZ2lrdXQgOiB7cGVuZ2lrdXR9XG5b4pyTXSBFbWFpbCBBa3RpZiAgICAgOiB7ZW1haWx9XG5b4pyTXSBOb21vciBBa3RpZiAgICAgOiB7bm9tZXJ9XG5b4pyTXSBUYWh1biBBa3VuICAgICAgOiB7dGFodW59XG5b4pyTXSBUYW5nZ2FsIExhaGlyICAgOiB7dHRsfVxuIikKCgkJCQkJaGl0MSwgaGl0MiA9IDAsMAoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dAoJCQkJCWlmICJEaWFrc2VzIG1lbmdndW5ha2FuIEZhY2Vib29rIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4iLHN0cihjZWspKToKCQkJCQkJaW5mb2FrdW4gKz0gKGYiQXBsaWthc2kgWWFuZyBUZXJrYWl0KlxuIikKCQkJCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIgYWt0aWYgdW50dWsgZGl0aW5qYXUuIiBpbiBjZWs6CgkJCQkJCQlpbmZvYWt1biArPSAoZiJUaWRhayBBZGEgQXBsaWthc2kgQWt0aWYgWWFuZyBUZXJrYWl0ICpcbiIpCgkJCQkJCWVsc2U6CgkJCQkJCQlpbmZvYWt1biArPSAoZiIJQXBsaWthc2kgQWt0aWYgOiBcbiIpCgkJCQkJCQlhcGtBa3RpZiA9IHJlLmZpbmRhbGwoJ1wvPjxkaXZcIGNsYXNzXD1cIi4qP1wiXD5cPHNwYW5cIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL3NwYW5cPicsc3RyKGNlaykpCgkJCQkJCQlkaXRhbWJhaGthbiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWspKQoJCQkJCQkJZm9yIG11bmN1bCBpbiBhcGtBa3RpZjoKCQkJCQkJCQloaXQxKz0xCgkJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCQlbe2hpdDF9XSB7bXVuY3VsfSB7ZGl0YW1iYWhrYW5baGl0Ml19XG4iKQoJCQkJCQkJCWhpdDIrPTEKCQkJCQkJaWYgIkFuZGEgdGlkYWsgbWVtaWxpa2kgYXBsaWthc2kgYXRhdSBzaXR1cyB3ZWIga2VkYWx1d2Fyc2EgdW50dWsgZGl0aW5qYXUiIGluIGNlazI6CgkJCQkJCQlpbmZvYWt1biArPSAoZiJcblRpZGFrIEFkYSBBcGxpa2FzaSBLZWRhbHV3YXJzYSBZYW5nIFRlcmthaXRcbiIpCgkJCQkJCWVsc2U6CgkJCQkJCQloaXQxLGhpdDI9MCwwCgkJCQkJCQlpbmZvYWt1biArPSAoZiIJQXBsaWthc2kgS2VkYWx1d2Fyc2EgOlxuIikKCQkJCQkJCWFwa0thZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcLz48ZGl2XCBjbGFzc1w9XCIuKj9cIlw+XDxzcGFuXCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9zcGFuXD4nLHN0cihjZWsyKSkKCQkJCQkJCWthZGFsdWFyc2EgPSByZS5maW5kYWxsKCdcPGRpdlw+XDxcL2Rpdlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL2Rpdlw+JyxzdHIoY2VrMikpCgkJCQkJCQlmb3IgbXVuY3VsIGluIGFwa0thZGFsdWFyc2E6CgkJCQkJCQkJaGl0MSs9MQoJCQkJCQkJCWluZm9ha3VuICs9IChmIgkJW3toaXQxfV0ge211bmN1bH0ge2thZGFsdWFyc2FbaGl0Ml19XG4iKQoJCQkJCQkJCWhpdDIrPTEKCQkJCQllbHNlOnBhc3MKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9XG57aW5mb2FrdW59JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nT0snKSkKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCiMgQ1JBQ0tFUjIKZGVmIGNyYWNrMihpZGYscHd2KToKCWdsb2JhbCBsb29wLG9rLGNwCgliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpCglmZmYgPSAnJScKCXByaW50KCdcciVzLS0tPiAlcy8lcyAtLS0+IG9rKiVzIC0tLT4gY3AqJXMgLS0tPiAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikucmVwbGFjZSgnXG4nLCcnKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJaGVhZCA9IHsieC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMDAwMC4wLCAzMDAwMDAwMC4wKSksICJ4LWZiLXNpbS1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICJ4LWZiLW5ldC1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksICJ4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSI6ICJFWENFTExFTlQiLCAieC1mYi1jb25uZWN0aW9uLXR5cGUiOiAiY2VsbC5DVFJhZGlvQWNjZXNzVGVjaG5vbG9neUhTRFBBIiwgInVzZXItYWdlbnQiOiB1YSwgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAieC1mYi1odHRwLWVuZ2luZSI6ICJMaWdlciJ9CgkJCXJlc3AgPSBzZXMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0iK3N0cihpZGYpKyImcGFzc3dvcmQ9IitzdHIocHcpKyImY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlIiwgaGVhZGVycz1oZWFkKQoJCQlpZiAid3d3LmZhY2Vib29rLmNvbSIgaW4gcmVzcC5qc29uKClbImVycm9yX21zZyJdOgoJCQkJaWYgJ3lhJyBpbiBvcHJlazoKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNla2VyKGlkZixwdykKCQkJCWVsc2U6CgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICclKGIsaWRmLHB3KSkKCQkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNwKz0xCgkJCQlicmVhawoJCQllbGlmICJzZXNzaW9uX2tleSIgaW4gcmVzcC50ZXh0IGFuZCAiRUFBQSIgaW4gcmVzcC50ZXh0OgoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IE9LICAgICAgICclKGgsaWRmLHB3KSkKCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJb2srPTEKCQkJCWJyZWFrCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCmRlZiBjcmFjazMoaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkKCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQoJZmZmID0gJyUnCglwcmludCgnXHIlczwtPiAlcy8lcyA8LT4gT0s6JXMgPC0+IENQOiVzIDwtPiAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQl0aXggPSB0aW1lLnRpbWUoKQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjonZnJlZS5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi8/ZW1haWw9JytpZGYpLnRleHQKCQkJZGF0YWEgPXsKJ2xzZCc6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocCkpLmdyb3VwKDEpLAonamF6b2VzdCc6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwKJ21fdHMnOnJlLnNlYXJjaCgnbmFtZT0ibV90cyIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksCidsaSc6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksCidlbWFpbCc6aWRmLAoncGFzcyc6cHcKfQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeydIb3N0JzogJ2ZyZWUuZmFjZWJvb2suY29tJywKJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywKJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCidvcmlnaW4nOiAnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbScsCidjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKJ3VzZXItYWdlbnQnOiB1YSwKJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLAonc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLAonc2VjLWZldGNoLW1vZGUnOiAnY29ycycsCidzZWMtZmV0Y2gtdXNlcic6ICdlbXB0eScsCidzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsCidyZWZlcmVyJzogJ2h0dHBzOi8vZnJlZS5mYWNlYm9vay5jb20vbG9naW4vP2VtYWlsPScraWRmLAonYWNjZXB0LWVuY29kaW5nJzonZ3ppcCwgZGVmbGF0ZSBicicsCidhY2NlcHQtbGFuZ3VhZ2UnOidlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCd9KQoKCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9mcmVlLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/c2hibD0xJnJlZnNyYz1kZXByZWNhdGVkJyxkYXRhPWRhdGFhLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAneWEnIGluIG9wcmVrOgoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY2VrZXIoaWRmLHB3KQoJCQkJZWxzZToKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScKCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSd5ZWxsb3cnKQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdDUCcpKQoJCQkJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAnbm8naW4gdGFwbGlrYXNpOgoJCQkJCW9rKz0xCgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCQlrdWtpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J09LJykpCgkJCQkJYnJlYWsKCQkJCWVsaWYgJ3lhJ2luIHRhcGxpa2FzaToKCQkJCQlvays9MQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQlnZXRfaWQgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocCIsY29va2llcz1jb2tpKS50ZXh0CgkJCQkJbmFtYSA9IHJlLmZpbmRhbGwoJ1w8dGl0bGVcPiguKj8pPFwvdGl0bGVcPicsc3RyKGdldF9pZCkpWzBdCgkJCQkJcmVzcG9uc2UgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD92PWluZm8iLGNvb2tpZXM9Y29raSkudGV4dAoJCQkJCXJlc3BvbnNlMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9ZnJpZW5kcyIsY29va2llcz1jb2tpKS50ZXh0CgkJCQkJcmVzcG9uc2UzID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL20uZmFjZWJvb2suY29tL3t1c2VyfS9hbGxhY3Rpdml0eS8/Y2F0ZWdvcnlfa2V5PWFsbCZzZWN0aW9uX2lkPXllYXJfMjAyMiZ0aW1lc3RhcnQ9MTYwOTQ4ODAwMCZ0aW1lZW5kPTE2NDEwMjM5OTkmc2VjdGlvbkxvYWRpbmdJRD1tX3RpbWVsaW5lX2xvYWRpbmdfZGl2XzE2NDEwMjM5OTlfMTYwOTQ4ODAwMF84XyIsY29va2llcz1jb2tpKS50ZXh0CgkJCQkJcmVzcG9uc2U0ID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL20uZmFjZWJvb2suY29tL3RpbWVsaW5lL2FwcF9jb2xsZWN0aW9uLz9jb2xsZWN0aW9uX3Rva2VuPXt1c2VyfSUzQTE4NDk4NTA3MTUzODAwMiUzQTMyJl9yZGM9MSZfcmRyIixjb29raWVzPWNva2kpLnRleHQKCQkJCQl0cnk6bm9tZXIgPSByZS5maW5kYWxsKCdcPGFcIGhyZWZcPVwidGVsXDpcKy4qP1wiPlw8c3BhblwgZGlyXD1cImx0clwiPiguKj8pPFwvc3Bhbj48XC9hPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6bm9tZXIgPSAiIgoJCQkJCXRyeTplbWFpbCA9IHJlLmZpbmRhbGwoJ1w8YSBocmVmXD1cImh0dHBzXDpcL1wvbG1cLmZhY2Vib29rXC5jb21cL2xcLnBocFw/dVw9bWFpbC4qP1wiIHRhcmdldFw9XCIuKj9cIlw+KC4qPyk8XC9hXD4nLHN0cihyZXNwb25zZSkpWzBdLnJlcGxhY2UoJyYjMDY0OycsJ0AnKQoJCQkJCWV4Y2VwdDplbWFpbD0iIgoJCQkJCXRyeTp0dGwgPSByZS5maW5kYWxsKCdcPFwvdGRcPlw8dGRcIHZhbGlnblw9XCJ0b3BcIiBjbGFzc1w9XCIuKj9cIlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oXGQrXHMrXHcrXHMrXGQrKTxcL2Rpdlw+XDxcL3RkXD5cPFwvdHJcPicsc3RyKHJlc3BvbnNlKSlbMF0KCQkJCQlleGNlcHQ6dHRsPSIiCgkJCQkJdHJ5OnRlbWFuID0gcmUuZmluZGFsbCgnXDxoM1wgY2xhc3NcPVwiLio/XCJcPlRlbWFuXCBcKCguKj8pXCk8XC9oM1w+JyxzdHIocmVzcG9uc2UyKSlbMF0KCQkJCQlleGNlcHQ6dGVtYW4gPSAiIgoJCQkJCXRyeTpwZW5naWt1dCA9IHJlLmZpbmRhbGwoJ1w8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pXDxcL3NwYW5cPicsc3RyKHJlc3BvbnNlNCkpWzFdCgkJCQkJZXhjZXB0OnBlbmdpa3V0ID0gIiIKCQkJCQl0cnk6CgkJCQkJCXRhaHVuID0gIiIKCQkJCQkJY2VrX3RobiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XCBjbGFzc1w9XCIuKj9cIiBpZFw9XCJ5ZWFyXyguKj8pXCI+JyxzdHIocmVzcG9uc2UzKSkKCQkJCQkJZm9yIG5lbmVuIGluIGNla190aG46CgkJCQkJCQl0YWh1biArPSBuZW5lbisiLCAiCgkJCQkJZXhjZXB0OnBhc3MKCgkJCQkJaW5mb2FrdW4gKz0gKGYiW+Kck10gTmFtYSBBa3VuICAgICAgIDoge25hbWF9XG5b4pyTXSBKdW1sYWggVGVtYW4gICAgOiB7dGVtYW59XG5b4pyTXSBKdW1sYWggUGVuZ2lrdXQgOiB7cGVuZ2lrdXR9XG5b4pyTXSBFbWFpbCBBa3RpZiAgICAgOiB7ZW1haWx9XG5b4pyTXSBOb21vciBBa3RpZiAgICAgOiB7bm9tZXJ9XG5b4pyTXSBUYWh1biBBa3VuICAgICAgOiB7dGFodW59XG5b4pyTXSBUYW5nZ2FsIExhaGlyICAgOiB7dHRsfVxuIikKCgkJCQkJaGl0MSwgaGl0MiA9IDAsMAoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSkudGV4dAoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2kpLnRleHQKCQkJCQlpZiAiRGlha3NlcyBtZW5nZ3VuYWthbiBGYWNlYm9vayIgaW4gcmUuZmluZGFsbCgiXDx0aXRsZVw+KC4qPyk8XC90aXRsZVw+IixzdHIoY2VrKSk6CgkJCQkJCWluZm9ha3VuICs9IChmIkFwbGlrYXNpIFlhbmcgVGVya2FpdCpcbiIpCgkJCQkJCWlmICJBbmRhIHRpZGFrIG1lbWlsaWtpIGFwbGlrYXNpIGF0YXUgc2l0dXMgd2ViIGFrdGlmIHVudHVrIGRpdGluamF1LiIgaW4gY2VrOgoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiVGlkYWsgQWRhIEFwbGlrYXNpIEFrdGlmIFlhbmcgVGVya2FpdCAqXG4iKQoJCQkJCQllbHNlOgoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCUFwbGlrYXNpIEFrdGlmIDogXG4iKQoJCQkJCQkJYXBrQWt0aWYgPSByZS5maW5kYWxsKCdcLz48ZGl2XCBjbGFzc1w9XCIuKj9cIlw+XDxzcGFuXCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9zcGFuXD4nLHN0cihjZWspKQoJCQkJCQkJZGl0YW1iYWhrYW4gPSByZS5maW5kYWxsKCdcPGRpdlw+XDxcL2Rpdlw+XDxkaXZcIGNsYXNzXD1cIi4qP1wiXD4oLio/KTxcL2Rpdlw+JyxzdHIoY2VrKSkKCQkJCQkJCWZvciBtdW5jdWwgaW4gYXBrQWt0aWY6CgkJCQkJCQkJaGl0MSs9MQoJCQkJCQkJCWluZm9ha3VuICs9IChmIgkJW3toaXQxfV0ge211bmN1bH0ge2RpdGFtYmFoa2FuW2hpdDJdfVxuIikKCQkJCQkJCQloaXQyKz0xCgkJCQkJCWlmICJBbmRhIHRpZGFrIG1lbWlsaWtpIGFwbGlrYXNpIGF0YXUgc2l0dXMgd2ViIGtlZGFsdXdhcnNhIHVudHVrIGRpdGluamF1IiBpbiBjZWsyOgoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiXG5UaWRhayBBZGEgQXBsaWthc2kgS2VkYWx1d2Fyc2EgWWFuZyBUZXJrYWl0XG4iKQoJCQkJCQllbHNlOgoJCQkJCQkJaGl0MSxoaXQyPTAsMAoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCUFwbGlrYXNpIEtlZGFsdXdhcnNhIDpcbiIpCgkJCQkJCQlhcGtLYWRhbHVhcnNhID0gcmUuZmluZGFsbCgnXC8+PGRpdlwgY2xhc3NcPVwiLio/XCJcPlw8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvc3Bhblw+JyxzdHIoY2VrMikpCgkJCQkJCQlrYWRhbHVhcnNhID0gcmUuZmluZGFsbCgnXDxkaXZcPlw8XC9kaXZcPlw8ZGl2XCBjbGFzc1w9XCIuKj9cIlw+KC4qPyk8XC9kaXZcPicsc3RyKGNlazIpKQoJCQkJCQkJZm9yIG11bmN1bCBpbiBhcGtLYWRhbHVhcnNhOgoJCQkJCQkJCWhpdDErPTEKCQkJCQkJCQlpbmZvYWt1biArPSAoZiIJCVt7aGl0MX1dIHttdW5jdWx9IHtrYWRhbHVhcnNhW2hpdDJdfVxuIikKCQkJCQkJCQloaXQyKz0xCgkJCQkJZWxzZTpwYXNzCgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNvayA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfVxuW+KAol0gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfVxue2luZm9ha3VufScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J09LJykpCgkJCQkJYnJlYWsKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCiMgT1BTSQpkZWYgY2VrZXIoaWRmLHB3KToKCWdsb2JhbCBjcAoJdWEgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDguMS4wOyBTNDVCKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTYuMC40NjY0LjQ1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JwoJaGVhZCA9IHsiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCJvcmlnaW4iOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiB1YSwiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsInNlYy1mZXRjaC11c2VyIjogIj8xIiwic2VjLWZldGNoLWRlc3QiOiAiZG9jdW1lbnQiLCJyZWZlcmVyIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9CglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXRyeToKCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpCgkJaG8gPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkZiwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZCwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsJ2h0bWwucGFyc2VyJykKCQlqbyA9IGhvLmZpbmQoJ2Zvcm0nKQoJCWRhdGEgPSB7fQoJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10KCQlmb3IgYW5qIGluIGpvKCdpbnB1dCcpOgoJCQlpZiBhbmouZ2V0KCduYW1lJykgaW4gbGlvbjoKCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pCgkJa2VudCA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJytzdHIoam9bJ2FjdGlvbiddKSwgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWQpLnRleHQsJ2h0bWwucGFyc2VyJykKCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkZixwdyx4KSkKCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQljcCs9MQoJCW9wc2kgPSBrZW50LmZpbmRfYWxsKCdvcHRpb24nKQoJCWlmIGxlbihvcHNpKT09MDoKCQkJcHJpbnQoJ1xyJXMtLS0+IFRhcCBZZXMgLyBBMkYgKENlayBMb2dpbiBEaSBMaXRlL01iYXNpYyVzKSclKGhoLHgpKQoJCWVsc2U6CgkJCWZvciBvcHNpaSBpbiBvcHNpOgoJCQkJcHJpbnQoJ1xyJXMtLS0+ICVzJXMnJShrayxvcHNpaS50ZXh0LHgpKQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBjOgoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQoJCXByaW50KCdcciVzLS0tPiBUaWRhayBEYXBhdCBNZW5nZWNlayBPcHNpIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMpJXMnJSh1LHgpKQoJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCWNwKz0xCgojIE9QU0kgQ0VLRVIKZGVmIGNla19vcHNpKCk6CgljID0gbGVuKGFrdW4pCglodSA9ICdUZXJkYXBhdCAlcyBBa3VuIFVudHVrIERpY2VrXG5TZWJlbHVtIE11bGFpLCBNb2RlIFBlc2F3YXQvVWJhaCBLYXJ0dSBTaW0gVGVybGViaWggRGFodWx1JyUoYykKCWNldGFrKG5lbChodSwgdGl0bGU9J0NFSyBPUFNJJykpCglpbnB1dCh4KydbJytoKyfigKInK3grJ10gTXVsYWknKQoJY2VrID0gJyMgUFJPU0VTIENFSyBPUFNJIERJTVVMQUknCglzb2woKS5wcmludChtYXJrKGNlaywgc3R5bGU9J2dyZWVuJykpCglsb3ZlID0gMAoJZm9yIGtlcyBpbiBha3VuOgoJCXRyeToKCQkJdHJ5OgoJCQkJaWQscHcgPSBrZXMuc3BsaXQoJ3wnKVswXSxrZXMuc3BsaXQoJ3wnKVsxXQoJCQlleGNlcHQgSW5kZXhFcnJvcjoKCQkJCXRpbWUuc2xlZXAoMikKCQkJCXByaW50KCdcciVzKysrKyAlcyAtLS0tPiBFcnJvciAgICAgICVzJyUoYixrZXMseCkpCgkJCQlwcmludCgnXHIlcy0tLT4gUGVtaXNhaCBUaWRhayBEaWR1a3VuZyBVbnR1ayBQcm9ncmFtIEluaSVzJyUodSx4KSkKCQkJCWNvbnRpbnVlCgkJCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCgkJCXByaW50KCdcciVzLS0tPiAlcy8lcyAtLS0+IHsgJXMgfSVzJyUoYmksbG92ZSxsZW4oYWt1biksaWQseCksIGVuZD0nICcpO3N5cy5zdGRvdXQuZmx1c2goKQoJCQl1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOC4xLjA7IFM0NUIpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ni4wLjQ2NjQuNDUgTW9iaWxlIFNhZmFyaS81MzcuMzYnCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQloZWFkZXIgPSB7Ikhvc3QiOiAibWJhc2ljLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICIxIiwib3JpZ2luIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjogdWEsImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwicmVmZXJlciI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifQoJCQloaSA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpCgkJCWhvID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzppZCwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZGVyLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkudGV4dCwnaHRtbC5wYXJzZXInKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQl0cnk6CgkJCQkJam8gPSBoby5maW5kKCdmb3JtJykKCQkJCQlkYXRhID0ge30KCQkJCQlsaW9uID0gWyduaCcsJ2phem9lc3QnLCdmYl9kdHNnJywnc3VibWl0W0NvbnRpbnVlXScsJ2NoZWNrcG9pbnRfZGF0YSddCgkJCQkJZm9yIGFuaiBpbiBqbygnaW5wdXQnKToKCQkJCQkJaWYgYW5qLmdldCgnbmFtZScpIGluIGxpb246CgkJCQkJCQlkYXRhLnVwZGF0ZSh7YW5qLmdldCgnbmFtZScpOmFuai5nZXQoJ3ZhbHVlJyl9KQoJCQkJCWtlbnQgPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrc3RyKGpvWydhY3Rpb24nXSksIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkZXIpLnRleHQsJ2h0bWwucGFyc2VyJykKCQkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkLHB3LHgpKQoJCQkJCW9wc2kgPSBrZW50LmZpbmRfYWxsKCdvcHRpb24nKQoJCQkJCWlmIGxlbihvcHNpKT09MDoKCQkJCQkJcHJpbnQoJ1xyJXMtLS0+IFRhcCBZZXMgLyBBMkYgKENlayBMb2dpbiBEaSBMaXRlL01iYXNpYyVzKSclKGhoLHgpKQoJCQkJCWVsc2U6CgkJCQkJCWZvciBvcHNpaSBpbiBvcHNpOgoJCQkJCQkJcHJpbnQoJ1xyJXMtLS0+ICVzJXMnJShrayxvcHNpaS50ZXh0LHgpKQoJCQkJZXhjZXB0OgoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpCgkJCQkJcHJpbnQoJ1xyJXMtLS0+IFRpZGFrIERhcGF0IE1lbmdlY2VrIE9wc2klcyclKHUseCkpCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gT0sgICAgICAgJXMnJShoLGlkLHB3LHgpKQoJCQllbHNlOgoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IFNBTEFIICAgICAgICVzJyUoeCxpZCxwdyx4KSkKCQkJbG92ZSs9MQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcHJpbnQoJycpCgkJCWxpID0gJyMgS09ORUtTSSBJTlRFUk5FVCBCRVJNQVNBTEFILCBQRVJJS1NBICYgQ09CQSBMQUdJJwoJCQlzb2woKS5wcmludChtYXJrKGxpLCBzdHlsZT0ncmVkJykpCgkJCWV4aXQoKQoJZGFoID0gJyMgRE9ORScKCXNvbCgpLnByaW50KG1hcmsoZGFoLCBzdHlsZT0nZ3JlZW4nKSkKCWV4aXQoKQoKaWYgX19uYW1lX189PSdfX21haW5fXyc6Cgl0cnk6b3MubWtkaXIoJ0NQJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJ09LJykKCWV4Y2VwdDpwYXNzCglsb2dpbigpCgo="))